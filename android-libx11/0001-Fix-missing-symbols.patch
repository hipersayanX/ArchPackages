--- a/src/XlibInt.c
+++ b/src/XlibInt.c
@@ -132,6 +132,8 @@
 
 #define POLLFD_CACHE_SIZE 5
 
+#define FIONREAD 0x541B
+
 /* initialize the struct array passed to poll() below */
 Bool _XPollfdCacheInit(
     Display *dpy)
